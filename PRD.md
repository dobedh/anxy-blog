# Anxy 블로그 플랫폼 PRD (Product Requirements Document)

## 📄 Executive Summary

### 비전 
Anxy를 불안감을 느끼는 사람들을 위한 **개인 블로그 플랫폼**으로 전환하여, 사용자들이 안전한 개인 공간에서 감정을 기록하고 관심사가 비슷한 사람들과 선택적으로 연결될 수 있는 환경을 제공합니다.

### 핵심 변화
- **기존**: 모든 사용자의 글이 공개되는 커뮤니티 구조
- **새로운**: 개인 블로그 + 팔로우 시스템 기반의 선택적 연결

---

## 🎯 Problem Statement

### 현재 문제점
1. **프라이버시 부족**: 모든 글이 공개되어 개인적인 감정 표현이 어려움
2. **노이즈 많은 피드**: 관심 없는 사용자의 글도 노출되어 집중도 저하
3. **개인 성장 추적 어려움**: 자신의 글 히스토리를 체계적으로 관리하기 어려움
4. **선택적 관계 형성 불가**: 특정 사용자만 팔로우할 수 없음

### 해결방안
개인 블로그 중심의 플랫폼으로 전환하여 **프라이버시, 선택권, 개인화**를 강화

---

## 👥 User Personas

### 1. 민감한 감정을 나누는 사람 (Primary)
- **특징**: 불안감, 우울감 등 개인적 감정을 글로 표현
- **니즈**: 안전한 개인 공간, 선택적 공유, 따뜻한 반응
- **페인 포인트**: 너무 많은 사람에게 노출되는 것에 대한 부담

### 2. 공감하고 지지하는 사람 (Secondary)
- **특징**: 타인의 감정에 공감하고 지지하려는 성향
- **니즈**: 의미 있는 글 발견, 꾸준한 관계 유지
- **페인 포인트**: 관심 있는 사용자를 찾기 어려움

### 3. 자기 성찰을 기록하는 사람 (Tertiary)
- **특징**: 개인 성장과 감정 변화를 기록하고 싶어함
- **니즈**: 개인 아카이브, 성장 과정 시각화
- **페인 포인트**: 글이 섞여서 개인 히스토리 파악이 어려움

---

## 🔧 Core Feature Requirements

### 1. 사용자 시스템

#### 1.1 프로필 생성
- **기본 정보**: 사용자명(@username), 표시명, 한 줄 소개
- **프라이버시**: 익명 글쓰기 옵션 유지
- **설정**: 팔로우 허용/비허용, 프로필 공개/비공개

#### 1.2 사용자 인증
- **방식**: 간단한 로컬 계정 시스템 (localStorage 기반)
- **보안**: 기본적인 사용자 구분 (세션 관리)

### 2. 개인 블로그 페이지 (`/@username`)

#### 2.1 레이아웃
```
[프로필 헤더]
- 프로필 이미지 (기본 아바타)
- 표시명 + @username
- 한 줄 소개
- 팔로워/팔로잉 수
- [팔로우] 버튼

[글 목록]
- 카드 형태의 깔끔한 레이아웃
- 제목, 미리보기, 날짜, 카테고리
- 브런치 스타일의 미니멀한 디자인
```

#### 2.2 기능
- 작성한 글 시간순 정렬
- 카테고리별 필터링
- 글 검색 기능
- 페이지네이션

### 3. 팔로우 시스템

#### 3.1 팔로우/언팔로우
- **팔로우 버튼**: 다른 사용자 블로그에서 쉽게 팔로우
- **팔로우 관리**: 내가 팔로우하는 사용자 목록
- **팔로워 조회**: 나를 팔로우하는 사용자 (옵션)

#### 3.2 알림 시스템
- 새 팔로워 알림
- 팔로우한 사용자의 새 글 알림

### 4. 홈 피드 변경

#### 4.1 피드 로직
- **기존**: 모든 사용자 글 노출
- **신규**: 팔로우한 사용자 글만 노출
- **빈 피드**: 신규 사용자를 위한 추천 사용자 제시

#### 4.2 피드 UI
- 시간순 정렬
- 작성자 정보 표시 (프로필 이미지, 이름)
- 원본 글로 이동하는 링크

### 5. 발견하기 페이지

#### 5.1 사용자 발견
- 전체 사용자 목록
- 인기 사용자 (팔로워 수 기준)
- 최근 활동한 사용자
- 검색 기능

#### 5.2 추천 시스템
- 비슷한 카테고리 관심사 기반 추천
- 상호 팔로우 추천

---

## 🏗️ Technical Architecture

### 1. 데이터 구조 (localStorage)

#### 1.1 사용자 데이터
```javascript
// localStorage.users
{
  "users": {
    "user123": {
      "id": "user123",
      "username": "mindful_writer",
      "displayName": "마음챙김",
      "bio": "불안한 마음을 글로 다스려가는 중입니다",
      "avatar": "default", 
      "createdAt": "2024-01-01",
      "isPrivate": false,
      "allowFollow": true
    }
  }
}
```

#### 1.2 팔로우 관계
```javascript
// localStorage.follows  
{
  "user123": ["user456", "user789"], // user123이 팔로우하는 사용자들
  "user456": ["user123"]
}
```

#### 1.3 포스트 데이터 (기존 확장)
```javascript
// localStorage.posts (기존 userPosts 확장)
{
  "posts": [
    {
      "id": "post123",
      "authorId": "user123",
      "authorName": "마음챙김", 
      "title": "오늘의 불안감",
      "content": "...",
      "excerpt": "...",
      "category": "생각",
      "createdAt": "2024-01-01",
      "isAnonymous": false,
      "likes": 5,
      "comments": 2
    }
  ]
}
```

### 2. 라우팅 구조

```
/ (홈 - 팔로우 피드)
/@username (개인 블로그)
/write (글쓰기)
/discover (사용자 발견)
/profile/edit (프로필 수정)
/following (팔로잉 관리)
/login (로그인)
/signup (회원가입)
```

### 3. 컴포넌트 아키텍처

#### 3.1 신규 컴포넌트
- `UserProfile` - 프로필 헤더
- `FollowButton` - 팔로우/언팔로우 버튼
- `UserCard` - 사용자 발견용 카드
- `BlogFeed` - 개인 블로그 피드
- `EmptyFeed` - 빈 피드 상태

#### 3.2 수정 컴포넌트  
- `Header` - 새로운 네비게이션 (홈, 내블로그, 글쓰기, 발견하기)
- `PostCard` - 작성자 정보 추가
- Homepage - 팔로우 피드로 변경

---

## 📱 Technology Stack & Platform Strategy

### 현재 기술 스택
- **Frontend**: Next.js 15.5.2 + React 19.1.0 + TypeScript
- **Styling**: Tailwind CSS 4 with PostCSS plugin
- **Build Tool**: Turbopack (Next.js 15)
- **Data Storage**: Client-side localStorage
- **Deployment**: Static export 지원 (Vercel, Netlify 등)

### 플랫폼 전략 결정

#### ✅ **현재 스택 유지 결정 근거**
1. **검증된 기술**: Next.js + Tailwind로 완벽한 모바일 웹 구현 가능
2. **빠른 MVP**: 웹 우선으로 시장 검증 후 앱 확장
3. **개발 효율성**: React 생태계로 로직 재사용률 90% 이상
4. **불안 커뮤니티 특성**: 프라이버시 중심의 웹 경험이 더 적합

#### 🎯 **모바일 퍼스트 설계 원칙**
```css
/* 터치 친화적 인터페이스 */
.touch-target {
  min-height: 44px;        /* iOS Human Interface Guidelines */
  min-width: 44px;
  padding: 12px 24px;
}

/* 모바일 우선 반응형 */
.container {
  @apply px-4 py-6;        /* 모바일 기본 */
  @apply md:px-8 md:py-12; /* 데스크톱 확장 */
}
```

#### 🔄 **크로스플랫폼 준비 (앱 전환 대비)**

**1. 로직/UI 분리 패턴**
```typescript
// 비즈니스 로직 (웹/앱 공통)
const useUserProfile = (userId: string) => {
  // 사용자 데이터 로직
  return { user, isFollowing, followUser, unfollowUser }
}

// UI 컴포넌트 (플랫폼별)
const ProfileCardWeb = () => { /* 웹 전용 JSX */ }
const ProfileCardNative = () => { /* 앱 전용 (미래) */ }
```

**2. 스토리지 추상화 인터페이스**
```typescript
interface StorageAdapter {
  getItem(key: string): Promise<string | null>
  setItem(key: string, value: string): Promise<void>
  removeItem(key: string): Promise<void>
}

class WebStorage implements StorageAdapter {
  // localStorage 구현
}

class NativeStorage implements StorageAdapter {
  // AsyncStorage 구현 (미래 앱 개발용)
}
```

---

## 🚀 Multi-Platform Roadmap

### Phase 1: 모바일 퍼스트 웹 플랫폼 (2-3개월)

#### 1.1 핵심 기능 구현
- [x] Next.js + TypeScript + Tailwind 4 기반 구조
- [ ] 사용자 시스템 + 개인 블로그 페이지
- [ ] 팔로우 시스템 + 홈 피드 개편
- [ ] 완벽한 모바일 반응형 UI/UX

#### 1.2 PWA (Progressive Web App) 기능
```javascript
// next.config.js PWA 설정
const withPWA = require('next-pwa')({
  dest: 'public',
  register: true,
  skipWaiting: true,
  runtimeCaching: [
    // 오프라인 글 작성/저장 캐싱
  ]
})
```

**PWA 기능 목록:**
- 📱 홈스크린 설치 지원
- 🔄 오프라인 글 작성/임시저장  
- 🔔 팔로우 알림 (웹 푸시)
- ⚡ 빠른 로딩 (Service Worker 캐싱)

#### 1.3 모바일 최적화
- **터치 인터페이스**: 최소 44px 터치 영역
- **스와이프 제스처**: 글 목록 네비게이션
- **키보드 최적화**: 모바일 입력 환경
- **성능 최적화**: 이미지 lazy loading, 코드 분할

### Phase 2: 네이티브 앱 개발 (3-4개월)

#### 2.1 기술 스택 (앱)
```
React Native (Expo) + TypeScript
├── Navigation: Expo Router
├── Styling: Tamagui (RN용 Tailwind 대안)
├── State: React Context + localStorage → AsyncStorage  
└── Build: EAS Build (iOS/Android 동시)
```

#### 2.2 웹→앱 마이그레이션 전략
1. **비즈니스 로직 재사용**: hooks, utils, types 90% 공유
2. **UI 컴포넌트 재구현**: 웹에서 검증된 UX를 네이티브로
3. **데이터 동기화**: localStorage → AsyncStorage + 클라우드 백업
4. **성능 최적화**: 네이티브 컴포넌트 활용

#### 2.3 앱 특화 기능
- 🔔 **푸시 알림**: 새 팔로워, 좋아요 등
- 📸 **이미지 업로드**: 카메라 연동
- 🌙 **다크모드**: 시스템 설정 연동  
- 📊 **앱 분석**: 사용자 행동 분석

### Phase 3: 플랫폼 확장 (선택사항)

#### 3.1 백엔드 도입 시점
- **트리거**: 사용자 1000명 이상 또는 데이터 동기화 필요시
- **기술스택**: Supabase 또는 Firebase (빠른 개발)
- **마이그레이션**: localStorage → 클라우드 DB 단계적 전환

#### 3.2 고도화 기능
- 📈 **분석 대시보드**: 개인 감정 변화 추적
- 🤝 **매칭 시스템**: 비슷한 관심사 사용자 추천
- 🎨 **테마 시스템**: 개인 블로그 커스터마이징

---

## 🎨 UX/UI Guidelines

### 1. 기존 디자인 시스템 유지
- 치료적 색상 팔레트 (#ffffff 배경, #1a202c 텍스트)
- 부드러운 전환 효과 (transition-gentle)
- 넉넉한 여백과 8px 그리드 시스템

### 2. 새로운 디자인 요소

#### 2.1 프로필 디자인
- **아바타**: 부드러운 원형, 기본 일러스트
- **팔로우 버튼**: 차분한 primary 색상
- **통계**: 최소한의 정보만 표시 (팔로워 부담 최소화)

#### 2.2 피드 디자인
- **개인 블로그**: 브런치 스타일의 미니멀한 카드
- **홈 피드**: 작성자 정보가 잘 보이는 구조
- **빈 상태**: 따뜻하고 격려하는 메시지

---

## 📅 Implementation Plan

### Phase 1: 기본 사용자 시스템 + 모바일 최적화 (2주)
- [ ] 사용자 회원가입/로그인 시스템
- [ ] 기본 프로필 페이지
- [ ] localStorage 사용자 데이터 구조
- [ ] **모바일 퍼스트 반응형 디자인 적용**
- [ ] **터치 인터페이스 최적화 (44px 최소 터치 영역)**

### Phase 2: 개인 블로그 + 모바일 UX (2주)  
- [ ] @username 라우팅
- [ ] 개인 블로그 페이지 UI
- [ ] 기존 글쓰기 시스템과 연동
- [ ] 작성자별 글 필터링
- [ ] **모바일 키보드 최적화 및 입력 UX**
- [ ] **스와이프 제스처 지원**

### Phase 3: 팔로우 시스템 + 크로스플랫폼 준비 (3주)
- [ ] 팔로우/언팔로우 기능
- [ ] 팔로우 관계 데이터 관리
- [ ] 팔로워/팔로잉 페이지
- [ ] **로직/UI 분리 패턴 적용 (앱 전환 대비)**
- [ ] **스토리지 추상화 인터페이스 구현**

### Phase 4: 홈 피드 개편 + PWA 기능 (2주)
- [ ] 홈페이지를 팔로우 피드로 변경
- [ ] 빈 피드 상태 UI
- [ ] 피드 성능 최적화
- [ ] **PWA 매니페스트 및 Service Worker 구현**
- [ ] **오프라인 글 작성/저장 기능**

### Phase 5: 사용자 발견 + 모바일 성능 최적화 (2주)
- [ ] 발견하기 페이지
- [ ] 사용자 검색 기능
- [ ] 추천 시스템
- [ ] **이미지 lazy loading 및 코드 분할**
- [ ] **Lighthouse 모바일 점수 90+ 달성**

### Phase 6: 향상된 UX + PWA 고도화 (1주)
- [ ] 알림 시스템
- [ ] 프로필 커스터마이징
- [ ] 성능 최적화
- [ ] **웹 푸시 알림 구현**
- [ ] **홈스크린 설치 프롬프트**

### Phase 7: 앱 개발 준비 (1주)
- [ ] **React Native 환경 셋업**
- [ ] **공통 비즈니스 로직 추출 및 패키징**
- [ ] **Tamagui 디자인 시스템 구축**
- [ ] **웹→앱 마이그레이션 가이드 작성**

---

## 🎯 개발 우선순위

### ⭐ **최우선 (Phase 1-2)**
1. 모바일 퍼스트 반응형 UI/UX
2. 기본 사용자 시스템 및 개인 블로그
3. 터치 친화적 인터페이스

### 🔥 **핵심 기능 (Phase 3-4)**  
1. 팔로우 시스템 및 피드 개편
2. PWA 기본 기능 (홈스크린 설치, 오프라인 저장)
3. 크로스플랫폼 준비 작업

### 🚀 **차별화 요소 (Phase 5-6)**
1. 스마트 사용자 추천
2. 웹 푸시 알림
3. 성능 최적화 및 PWA 고도화

### 🔮 **미래 확장 (Phase 7+)**
1. React Native 앱 개발
2. 백엔드 도입 및 실시간 동기화
3. 고급 분석 및 개인화 기능

---

## 📊 Success Metrics

### 1. 사용자 참여도
- **개인 블로그 방문율**: 사용자별 블로그 페이지 방문 수
- **팔로우 관계 형성**: 평균 팔로우/팔로워 수
- **글 작성 빈도**: 개인 공간에서의 글 작성 증가율

### 2. 플랫폼 건강성
- **활성 사용자 수**: 주간/월간 활성 사용자
- **글 상호작용**: 좋아요, 댓글 등의 반응율
- **사용자 체류 시간**: 개인 블로그 및 피드 체류 시간

### 3. 커뮤니티 품질
- **정성적 피드백**: 불안감 완화에 대한 사용자 후기
- **사용자 만족도**: 프라이버시 및 안전감에 대한 만족도
- **재방문율**: 사용자의 지속적 플랫폼 이용률

### 4. 모바일 & 크로스플랫폼 지표

#### 4.1 웹 플랫폼 지표 (Phase 1)
- **모바일 사용성**: Lighthouse 모바일 점수 90+ 목표
- **모바일 트래픽 비율**: 전체 접속의 70% 이상 모바일 목표
- **터치 인터페이스 만족도**: 모바일 사용자 UX 평점 4.5+ 목표
- **PWA 설치율**: 활성 사용자 중 30% PWA 설치 목표
- **페이지 로딩 속도**: 모바일 First Contentful Paint 2초 이내

#### 4.2 앱 플랫폼 지표 (Phase 2)
- **앱 전환율**: 웹 사용자 → 앱 사용자 전환 20% 목표
- **앱스토어 평점**: iOS/Android 각각 4.0+ 유지
- **사용자 유지율**: 웹에서 앱 전환 후 30일 유지율 80%
- **네이티브 기능 활용도**: 푸시 알림, 카메라 등 활용률
- **앱 크래시율**: 0.5% 미만 유지

#### 4.3 통합 플랫폼 지표
- **크로스 플랫폼 동기화**: 웹↔앱 데이터 일관성 99.9%
- **플랫폼별 사용 패턴**: 웹(긴 글 작성), 앱(피드 소비) 분석
- **총 사용자 경험**: 플랫폼 통합 만족도 4.5+ 목표

---

## ⚠️ Risk Assessment

### 1. 기술적 위험
- **localStorage 한계**: 데이터 손실 가능성 → 백업 시스템 필요
- **성능 저하**: 사용자/글 증가 시 성능 이슈 → pagination 및 캐싱

### 2. 사용자 경험 위험  
- **빈 피드 문제**: 신규 사용자의 빈 홈피드 → 온보딩 프로세스 강화
- **발견성 저하**: 팔로우 기반으로 인한 새로운 사용자 발견 어려움 → 추천 시스템

### 3. 커뮤니티 위험
- **고립감 증가**: 개인 블로그로 인한 커뮤니티 분산 → 공통 관심사 연결 기능
- **콘텐츠 품질**: 팔로우 관계로 인한 편향된 콘텐츠 노출 → 다양성 보장 방안

### 4. 플랫폼 & 기술적 위험

#### 4.1 모바일 웹 위험 (Phase 1)
- **모바일 성능 이슈**: 저사양 기기에서의 성능 저하 → 코드 분할 및 최적화
- **브라우저 호환성**: Safari, Chrome 등 차이 → 크로스 브라우저 테스트 강화
- **PWA 제약**: iOS Safari PWA 제한사항 → 하이브리드 앱 대안 준비
- **터치 UX 부족**: 웹 기반 터치 경험 한계 → 네이티브 제스처 라이브러리 활용

#### 4.2 앱 전환 위험 (Phase 2)  
- **개발 리소스 부족**: 웹/앱 동시 유지보수 부담 → 우선순위 명확화 및 단계적 접근
- **사용자 분산**: 웹/앱 사용자 분리로 인한 커뮤니티 파편화 → 데이터 동기화 보장
- **앱스토어 정책**: 심사 기준 변경 위험 → 웹 버전 병행 유지
- **기술적 복잡성**: React Native 학습 곡선 → 점진적 마이그레이션 전략

#### 4.3 데이터 동기화 위험
- **localStorage 한계**: 클라우드 동기화 부재 → 백엔드 도입 시점 명확화
- **플랫폼 간 불일치**: 웹↔앱 데이터 차이 → 단일 진실 소스 구축
- **오프라인 지원**: 네트워크 단절 시 사용성 → 오프라인 퍼스트 아키텍처

---

## 🎯 Next Steps

1. **사용자 검증**: 기존 사용자 대상 블로그 플랫폼 전환에 대한 의견 수렴
2. **프로토타이핑**: Phase 1 기본 기능 프로토타입 개발
3. **사용자 테스트**: 소규모 베타 테스트 진행
4. **피드백 반영**: 사용자 의견을 바탕으로 기능 개선
5. **단계별 출시**: Phase별 점진적 기능 출시

---

*이 PRD는 Anxy를 불안감을 느끼는 사용자들을 위한 안전하고 개인화된 블로그 플랫폼으로 전환하기 위한 로드맵입니다. 사용자의 프라이버시와 선택권을 존중하면서도 의미 있는 연결을 만들어가는 것이 핵심 목표입니다.*